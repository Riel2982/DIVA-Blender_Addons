# DIVA-Blender_Addons
DIVAのモデル編集に活用するアドオン集
コードはMicrosoft Copilotを使用して生成され、若干の調整が加えられています。

## DIVA - Split Mirror Weight
Blender標準機能では対応していない**DIVA独自の左右ボーン名規則**に対応するアドオンです。  
アドオンは **Nパネル > DIVAタブ** 内の **「DIVA-CustomRigMirror」** から実行できます。  
（オブジェクトモードおよびウエイトペイントモードのみ）

### **< Main >**
ミラー元になるオブジェクトを選択してアドオンを実行すると、オリジナルオブジェクトのミラー版が別オブジェクトで作成されます。
ウエイト（ボーン）も対応する規則に則ってリネームされます。

### **< Note >**
**オリジナルオブジェクトにミラーモディファイアが付いている場合**
   - ミラーモディファイアを **非表示** にして、ミラーオブジェクトが作成されます。
   - オリジナルオブジェクトには **変更を加えない** ため、編集後にアドオンを再実行することで、ミラー版を更新可能。

**ボーン名規則のカスタマイズ**  
- ボーン名規則を独自に追加したい場合はbone_patterns.jsonファイルを編集してください。
   - 例: `_r_ → _l_` / `.R → .L` / `right_ → left_` など自由に設定可能。

## DIVA - Bone Position Rotation Scale  
このアドオンは、**Blenderのアーマチュアからボーンデータ（位置・回転・スケール・親ボーン情報）を取得し、ファイルに保存する** ためのツールです。  
Nパネルの「DIVA」タブから簡単に操作できます。  

### 使い方  
1. **ボーンデータを取得したいアーマチュアを選択** します。  
2. **Nパネルの「DIVA」タブ** にある **Bone Position Rotation Scale** セクションで **Export Bone Data** ボタンをクリックします。  
3. 設定に応じてボーンデータファイルが出力されます。  

### 設定オプション  
- **File Name（ファイル名）**  
  - 保存するファイル名を入力してください（拡張子は不要）。  
  - デフォルトのままでも問題ありません。  
- **Export Path（保存場所）**  
  - フォルダアイコンをクリックして保存先を設定してください。  
  - デフォルトでは、現在作業中の `.blend` ファイルと同じフォルダに保存されます。  
- **Auto Open File（自動で開く）**  
  - エクスポート後、出力したファイルを**自動で開きたい場合** はチェックを付けてください。  
- **Overwrite Existing File（上書き保存の可否）**  
  - **既存ファイルを上書きしたくない場合** はチェックを外してください。  
  - チェックを外すと、既存ファイルがある場合はタイムスタンプ付きの新しいファイルとして保存されます。  
- **Export as JSON（JSON形式で保存）**  
  - **デフォルトではテキスト形式で保存** されます。  
  - **JSON形式で保存したい場合** はチェックを付けてください。  

### コードについて  
**Original script by Saltlapse.**  
Saltlapse氏が公開しているコード（[GitHubリポジトリ](https://github.com/Saltlapse/Blender-Mod-Scripts)）をBlenderアドオン化しました。  
アドオン化に際し、**元のスクリプトの構成はほぼそのまま維持** しつつ、いくつかの機能を加えています。  
許可をくださったSaltlapse氏に感謝します。
